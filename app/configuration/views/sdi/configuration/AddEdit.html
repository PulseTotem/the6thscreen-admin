<div ng-controller="T6SConfiguration.AddEditSDICtrl">
  <h2><a editable-text="sdi.name" onaftersave="updateSDIName()">{{ sdi.name || 'Choose a name' }}</a></h2>

  <div ng-include="'configuration/views/sdi/configuration/MenuService.html'"></div>

  <div id="zone_edit" class="zone_edit" ng-click="createZone($event)">
    <div class="barre_horizontale1" id="barreH1" ></div>
    <div class="barre_horizontale2" id="barreH2"  ></div>
    <div class="barre_verticale1" id="barreV1" ></div>
    <div class="barre_verticale2" id="barreV2" ></div>
    <div ng-repeat="zone in sdi.zones" ng-click="$event.stopPropagation()" ng-resize-zone="true" ng-drag-zone="true" delete lock="false" class="zone" numero="{{zone.id}}" style="width: {{ zone.width}}%; height: {{ zone.height}}%; position: absolute; top: {{ zone.positionFromTop}}%; left: {{ zone.positionFromLeft}}%;" ng-drop="true" ng-drop-success="onDropCompleteOnZone($data,zone)" ng-mouseover="showTooltip = true" ng-mouseleave="showTooltip = false">
      <span class="dropdown" dropdown on-toggle="toggled(open)" style="float:right">
        <button type="button" class="btn btn-primary btn-xs dropdown-toggle" dropdown-toggle>
          <span class="glyphicon glyphicon-menu-hamburger"></span>
        </button>
        <ul class="dropdown-menu">
          <li style="cursor: pointer;"><a dropdown-toggle ng-click="selectBehaviour(zone)">Edit Behaviour</a></li>
          <li class="divider" ng-if="enableButtonDeleteZone(zone)"></li>
          <li style="cursor: pointer;" ng-if="enableButtonDeleteZone(zone)"><a dropdown-toggle ng-click="confirmDeleteZone(zone)" style="background: red">Delete zone</a></li>
        </ul>
      </span>

      <div class="zone-name"><a href="#" editable-text="zone.name" onaftersave="updateZoneName(zone)">{{ zone.name || 'Choose a name' }}</a></div>

      <div class="customization-sdi-preview-zone-service" ng-repeat="service in zone.services">
        <div class="btn-group" dropdown>
          <button class="btn btn-default dropdown-toggle" dropdown-toggle ng-click="$event.stopPropagation()">
            <img ng-src="{{service.logo}}" /> <span class="badge" >{{service.callTypes.length}}</span>
          </button>
          <ul class="dropdown-menu" role="menu" ng-repeat="callType in service.callTypes">
            <li><a ng-click="editCallType(service, zone, callType, $event)" class="editCTMenu">Edit "{{ callType.name }}"</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  SDI id : {{ sdi.id }}
</div>
